<div class="container mt-4">
  <button class="btn btn-outline-secondary mb-3" (click)="cancel()">Cancel</button>
  <h2>Add Purchase</h2>
  <form [formGroup]="addPurchaseForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
          <label for="purchaseName" class="form-label">Purchase Name</label>
          <input type="text" class="form-control" id="purchaseName" formControlName="purchaseName" placeholder="Enter purchase name">
          <div *ngIf="addPurchaseForm.get('purchaseName').invalid && addPurchaseForm.get('purchaseName').touched" class="text-danger">
              Purchase name is required.
          </div>
      </div>
      <div formArrayName="purchaseItems" *ngFor="let item of purchaseItems.controls; let i=index" class="mb-3">
          <div [formGroupName]="i" class="card mb-2">
              <div class="card-body">
                  <div class="mb-3">
                      <label for="productName" class="form-label">Product Name</label>
                      <input type="text" class="form-control" id="productName" formControlName="productName" placeholder="Enter product name">
                  </div>
                  <div class="mb-3">
                      <label for="price" class="form-label">Price</label>
                      <input type="number" class="form-control" id="price" formControlName="price" placeholder="Enter price">
                  </div>
                  <div class="mb-3">
                      <label for="quantity" class="form-label">Quantity</label>
                      <input type="number" class="form-control" id="quantity" formControlName="quantity" placeholder="Enter quantity">
                  </div>
                  <button class="btn btn-outline-danger" (click)="removeItem(i)">Delete</button>
              </div>
          </div>
      </div>
      <button class="btn btn-outline-primary" (click)="addItem()">Add item</button>
      <button type="submit" class="btn btn-primary mt-3">Save</button>
  </form>
</div>
